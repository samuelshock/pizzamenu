<div class="row animated fadeIn" *ngIf="loading">
    <div class="col-sm-12">

        <div class="alert alert-warning text-center">
            <strong>Loading</strong>
            <br>
            <i class="fa fa-refresh fa-spin fa-2x"></i>
            <br>
            <span>Please wait!</span>
        </div>
    </div>
</div>

<div class="text-right">
    <button (click)="newpizza=!newpizza" type="button" class="btn waves-effect waves-light btn-rounded btn-primary">
        <i class="fa fa-plus"></i>
        Add Pizza
    </button>
</div>

<div class="row animated fadeIn" *ngIf="newpizza">
    <div class="col-sm-6">
        <form #form='ngForm' (ngSubmit)="onSubmit(form)">
            <div class="form-group">
                <input [(ngModel)]="form.name" name="name" class="form-control" type="text">
                <ejs-multiselect id='localData' name='toppings'  #local='ngModel' [(ngModel)]='value' [dataSource]='toppings' [fields]='localFields' [placeholder]='localWaterMark'></ejs-multiselect>
                <button type="submit" ejs-button>save</button>
            </div>
        </form>  
    </div>
</div>

<table class="table table-hover" *ngIf="!loading">
  <thead>
    <tr>
      <th scope="col">Pizza</th>
      <th scope="col">Toppings</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let pizza of pizzas">
        <td>
        <input [(ngModel)]="pizza.name" name="name" class="form-control" type="text">
        </td>
        <td>
            <ejs-multiselect [(ngModel)]='pizza.toppings' [dataSource]='toppings' [fields]='localFields' [placeholder]='localWaterMark'></ejs-multiselect>
        </td>
        <td>
            <button (click)="savePizza(pizza)" class="btn btn-primary">
                <i class="fa fa-edit"></i>
            </button>
            <button (click)="deltePizza(pizza)" class="btn btn-danger">
                <i class="fa fa-trash-o"></i>
            </button>
        </td>
        </tr>
  </tbody>
</table>
